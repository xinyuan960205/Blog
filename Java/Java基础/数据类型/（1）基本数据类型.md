# 基本数据类型
## 一、基本数据类型
### 1. 什么是基本数据类型
java是强类型语言，必须为每一个变量声明类型。<br>
java的基本类型一共分为8种三类。
> 字符类型char<br>
> 布尔类型boolean<br>
> 数值类型byte、short、int、long、float、double。

数值类型又可以分为整数类型byte、short、int、long和浮点数类型float、double。
实际上，Java中还存在另外一种基本类型void，它也有对应的包装类 java.lang.Void，不过我们无法直接对它们进行操作。

### 2. 基本数据类型的取值范围
1字节=8位（bit）。java中的整型属于有符号数。<br>
先来看计算中8bit可以表示的数字：
```
最小值：10000000 （-128）(-2^7)
最大值：01111111（127）(2^7-1)
```
整型的这几个类型中，
- byte：byte用1个字节来存储，范围为-128(-2^7)到127(2^7-1)，在变量初始化的时候，byte类型的默认值为0。 
- short：short用2个字节存储，范围为-32,768 (-2^15)到32,767 (2^15-1)，在变量初始化的时候，short类型的默认值为0，一般情况下，因为Java本身转型的原因，可以直接写为0。
- int：int用4个字节存储，范围为-2,147,483,648 (-2^31)到2,147,483,647 (2^31-1)，在变量初始化的时候，int类型的默认值为0。
- long：long用8个字节存储，范围为-9,223,372,036,854,775,808 (-2^63)到9,223,372,036, 854,775,807 (2^63-1)，在变量初始化的时候，long类型的默认值为0L或0l，也可直接写为0。

| 数据类型     | 关键字         | 内存占用 | 取值范围                               |
| ------------ | -------------- | -------- | -------------------------------------- |
| 字节型       | byte           | 1个字节  | -128~127                               |
| 短整型       | short          | 2个字节  | -32768~32767                           |
| 整型         | int（默认）    | 4个字节  | -2的31次方~2的31次方-1（正好超过21亿） |
| 长整型       | long           | 8个字节  | -2的63次方~2的63次方-1                 |
| 单精度浮点数 | float          | 4个字节  | 1.4013E-45~3.4028E+38                  |
| 双精度浮点数 | double（默认） | 8个字节  | 4.9E-324~1.7977E+308                   |
| 字符型       | char           | 2个字节  | 0-65535                                |
| 布尔类型     | boolean        | 1个字节  | true，false                            |

> java有表示任意精度的算术包，称为“大数值”。

### 3. 超出范围

```java
    int i = Integer.MAX_VALUE;
    int j = Integer.MAX_VALUE;

    int k = i + j;
    System.out.println("i (" + i + ") + j (" + j + ") = k (" + k + ")");
```
输出结果：i (2147483647) + j (2147483647) = k (-2)

发生了溢出，溢出的时候并不会抛异常，也没有任何提示。**所以，在程序中，使用同类型的数据进行运算的时候，一定要注意数据溢出的问题。

### 4. 基本数据类型好处
我们都知道在Java语言中，new一个对象是存储在堆里的，我们通过栈中的引用来使用这些对象；所以，对象本身来说是比较消耗资源的。

对于经常用到的类型，如int等，如果我们每次使用这种变量的时候都需要new一个Java对象的话，就会比较笨重。所以，和C++一样，Java提供了基本数据类型，这种数据的变量不需要使用new创建，他们不会在堆上创建，而是直接在栈内存中存储，因此会更加高效。

## 二、具体介绍
### 1. 整型
- 整型的范围和运行Java的机器无关。这跟c++有着区别。

### 2. 浮点型
- double的精度是float的两倍，又称“双精度”。现在一般表示浮点都用double
- 使用float要数值后面跟一个F后缀。如果没有后缀就是double。
- 表示溢出和错误的情况有三种
    - 正无穷大
    - 负无穷大
    - NaN（不是一个数字）<br>

    例：正整数除以0是正无穷大，0/0或负数的平方根的结果是NaN。<br>
    > 特别说明：不能检测一个特定值是否等于Double.NaN <br>
    > `if(x == Double.NaN)  //is never true` 所有“非数值”的值都认为是不相同的<br>
    > 可以使用`if(Double.isNaN(x))  //use is true` 

#### 什么是浮点型
在计算机科学中，浮点是一种对于实数的近似值数值表现法，由一个有效数字（即尾数）加上幂数来表示，通常是乘以某个基数的整数次指数得到。以这种表示法表示的数值，称为浮点数（floating-point number）。

计算机使用浮点数运算的主因，在于电脑使用二进位制的运算。例如：4÷2=2，4的二进制表示为100、2的二进制表示为010，在二进制中，相当于退一位数(100 -> 010)。

1的二进制是01，1.0/2=0.5，那么，0.5的二进制表示应该为(0.1)，以此类推，0.25的二进制表示为0.01，所以，并不是说所有的十进制小数都能准确的用二进制表示出来，如0.1，因此只能使用近似值的方式表达。

也就是说，，十进制的小数在计算机中是由一个整数或定点数（即尾数）乘以某个基数（计算机中通常是2）的整数次幂得到的，这种表示方法类似于基数为10的科学计数法。

一个浮点数a由两个数m和e来表示：a = m × be。在任意一个这样的系统中，我们选择一个基数b（记数系统的基）和精度p（即使用多少位来存储）。m（即尾数）是形如±d.ddd...ddd的p位数（每一位是一个介于0到b-1之间的整数，包括0和b-1）。如果m的第一位是非0整数，m称作正规化的。有一些描述使用一个单独的符号位（s 代表+或者-）来表示正负，这样m必须是正的。e是指数。

#### 什么是单精度和双精度
单精度浮点数在计算机存储器中占用4个字节（32 bits），利用“浮点”（浮动小数点）的方法，可以表示一个范围很大的数值。

比起单精度浮点数，双精度浮点数(double)使用 64 位（8字节） 来存储一个浮点数。

#### 不能用浮点数表示金额
由于计算机中保存的小数其实是十进制的小数的近似值，并不是准确值，所以，千万不要在代码中使用浮点数来表示金额等重要的指标。

建议使用BigDecimal或者Long（单位为分）来表示金额。


### 3. char

强烈建议不要使用char，应该使用抽象数据类型。

**一个字符可以存储一个汉字。**
> char是按照字符存储的，不管英文还是中文，固定占用2个字节，用来储存Unicode字符。范围在0-65535。
> unicode编码字符集中包含了汉字，所以，char型变量中当然可以存储汉字啦。不过，如果某个特殊的汉字没有
> 被包含在unicode编码字符集中，那么，这个char型变量中就不能存储这个特殊汉字。


### 4. boolean

两个值： true 和 false、可以使用 1 bit 来存储，但是具体大小没有明确规定。JVM 会在编译时期将 boolean 类型的数据转换为 int，使用 1 来表示 true，0 表示 false。JVM 支持 boolean 数组，但是是通过读写 byte 数组来实现的。